{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Config",
  "type": "object",
  "properties": {
    "codegen": {
      "$ref": "#/$defs/Codegen"
    },
    "creator": {
      "$ref": "#/$defs/Creator"
    },
    "inputs": {
      "description": "A map of input names to input configurations",
      "type": "object",
      "additionalProperties": {
        "$ref": "#/$defs/Input"
      }
    }
  },
  "required": [
    "creator",
    "inputs"
  ],
  "$defs": {
    "Codegen": {
      "description": "Optional configuration for generated files and code",
      "type": "object",
      "properties": {
        "content": {
          "description": "Generate the Content data type instead of strings",
          "type": "boolean",
          "default": false
        },
        "strip_extensions": {
          "description": "Strip the file extensions from asset keys",
          "type": "boolean",
          "default": false
        },
        "style": {
          "$ref": "#/$defs/CodegenStyle"
        },
        "typescript": {
          "description": "Generate a TypeScript definition file",
          "type": "boolean",
          "default": false
        }
      }
    },
    "CodegenStyle": {
      "description": "The style of code to generate",
      "oneOf": [
        {
          "description": "A flat table is generated with keys that look like asset paths",
          "type": "string",
          "const": "flat"
        },
        {
          "description": "A nested table is generated by separating the asset paths",
          "type": "string",
          "const": "nested"
        }
      ]
    },
    "Creator": {
      "description": "The Roblox creator to upload the assets under",
      "type": "object",
      "properties": {
        "id": {
          "description": "The Creator ID",
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "type": {
          "description": "The type of Creator",
          "$ref": "#/$defs/CreatorType"
        }
      },
      "required": [
        "type",
        "id"
      ]
    },
    "CreatorType": {
      "description": "The type of Creator",
      "oneOf": [
        {
          "description": "A personal Roblox account",
          "type": "string",
          "const": "user"
        },
        {
          "description": "A Community on Roblox",
          "type": "string",
          "const": "group"
        }
      ]
    },
    "Input": {
      "description": "A collection of assets",
      "type": "object",
      "properties": {
        "bleed": {
          "description": "Enable alpha bleeding images. Keep in mind that changing this setting won't invalidate your lockfile or reupload your images",
          "type": "boolean",
          "default": true
        },
        "output_path": {
          "description": "The directory path to output the generated code",
          "type": "string"
        },
        "path": {
          "description": "A glob pattern to match files to upload",
          "type": "string"
        },
        "web": {
          "description": "A map of paths relative to the input path to existing assets on Roblox",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/WebAsset"
          }
        }
      },
      "required": [
        "path",
        "output_path"
      ]
    },
    "WebAsset": {
      "description": "An asset that exists on Roblox",
      "type": "object",
      "properties": {
        "id": {
          "description": "The asset ID",
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        }
      },
      "required": [
        "id"
      ]
    }
  }
}